<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>BytePacketBuilder.&lt;init&gt; -</title>
  <meta name="description" content="Asynchronous framework for web applications">
  <link rel="stylesheet" href="/assets/main.css">
  <link rel="stylesheet" href="/assets/common.css">
  <link rel="canonical" href="https://api.ktor.io/1.3.0-beta-1/io.ktor.utils.io.core/-byte-packet-builder/-init-.html">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="/assets/js/api.js"></script>
  <script src="/assets/common.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-47631155-3', 'auto');
    ga('send', 'pageview');
  </script>
</head>

  <body>
    <header class="site-header" role="banner">
  <div class="wrapper">
    <div class="site-header-title">
      <a class="site-title" href="/1.3.0-beta-1/">Ktor 1.3.0-beta-1</a>
    </div>
    <div id="version-placeholder"></div>
    <script src="/assets/versions.js"></script>
  </div>
</header>

    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <div class="api-docs-breadcrumbs"><a href="../index.html">io.ktor.utils.io.core</a> / <a href="index.html">BytePacketBuilder</a> / <a href="./-init-.html">&lt;init&gt;</a></div>

<h1 id="init">&lt;init&gt;</h1>

<div class="signature"><code><span class="identifier">BytePacketBuilder</span><span class="symbol">(</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="parameterName" id="io.ktor.utils.io.core.BytePacketBuilder$&lt;init&gt;(kotlin.Int, io.ktor.utils.io.pool.ObjectPool((io.ktor.utils.io.core.internal.ChunkBuffer)))/headerSizeHint">headerSizeHint</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html"><span class="identifier">Int</span></a>&nbsp;<span class="symbol">=</span>&nbsp;0<span class="symbol">, </span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="parameterName" id="io.ktor.utils.io.core.BytePacketBuilder$&lt;init&gt;(kotlin.Int, io.ktor.utils.io.pool.ObjectPool((io.ktor.utils.io.core.internal.ChunkBuffer)))/pool">pool</span><span class="symbol">:</span>&nbsp;<a href="../../io.ktor.utils.io.pool/-object-pool/index.html"><span class="identifier">ObjectPool</span></a><span class="symbol">&lt;</span><a href="../../io.ktor.utils.io.core.internal/-chunk-buffer/index.html"><span class="identifier">ChunkBuffer</span></a><span class="symbol">&gt;</span><span class="symbol">)</span></code></div>

<p>A builder that provides ability to build byte packets with no knowledge of it’s size.
Unlike Java’s ByteArrayOutputStream it doesn’t copy the whole content every time it’s internal buffer overflows
but chunks buffers instead. Packet building via <a href="build.html">build</a> function is O(1) operation and only does instantiate
a new <a href="../-byte-read-packet/index.html">ByteReadPacket</a>. Once a byte packet has been built via <a href="build.html">build</a> function call, the builder could be
reused again. You also can discard all written bytes via <a href="reset.html">reset</a> or <a href="#">release</a>. Please note that an instance of
builder need to be terminated either via <a href="build.html">build</a> function invocation or via <a href="#">release</a> call otherwise it will
cause byte buffer leak so that may have performance impact.</p>

<p>Byte packet builder is also an <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/-appendable/index.html">Appendable</a> so it does append UTF-8 characters to a packet</p>

<pre>buildPacket {
    listOf(1,2,3).joinTo(this, separator = ",")
}
</pre>

      </div>
    </main>
    <footer class="site-footer">
  <!-- empty -->
</footer>

  </body>
</html>


<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>io.ktor.utils.io.core.internal -</title>
  <meta name="description" content="Package io.ktor.utils.io.core.internal">
  <link rel="stylesheet" href="/assets/main.css">
  <link rel="stylesheet" href="/assets/common.css">
  <link rel="canonical" href="https://api.ktor.io/1.4.3/io.ktor.utils.io.core.internal/">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="/assets/js/api.js"></script>
  <script src="/assets/common.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-47631155-3', 'auto');
    ga('send', 'pageview');
  </script>
</head>

  <body>
    <header class="site-header" role="banner">
  <div class="wrapper">
    <div class="site-header-title">
      <a class="site-title" href="/1.4.3/">Ktor 1.4.3</a>
    </div>
    <div id="version-placeholder"></div>
    <script src="/assets/versions.js"></script>
  </div>
</header>

    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <h2 id="package-ioktorutilsiocoreinternal">Package io.ktor.utils.io.core.internal</h2>

<h3 id="types">Types</h3>

<table class="api-docs-table">
<tbody>
<tr>
<td>

        <p><a href="-chunk-buffer/index.html">ChunkBuffer</a></p>

      </td>
<td>
        <div class="signature"><code><span class="keyword">open</span> <span class="keyword">class </span><span class="identifier">ChunkBuffer</span>&nbsp;<span class="symbol">:</span>&nbsp;<a href="../io.ktor.utils.io.core/-buffer/index.html"><span class="identifier">Buffer</span></a></code></div>

      </td>
</tr>
</tbody>
</table>

<h3 id="annotations">Annotations</h3>

<table class="api-docs-table">
<tbody>
<tr>
<td>

        <p><a href="-dangerous-internal-io-api/index.html">DangerousInternalIoApi</a></p>

      </td>
<td>
        <div class="signature"><code><span class="keyword">annotation</span> <span class="keyword">class </span><span class="identifier">DangerousInternalIoApi</span></code></div>

        <p>API marked with this annotation is internal and extremely fragile and not intended to be used by library users.
Such API could be changed without notice including rename, removal and behaviour change.
Also using API marked with this annotation could cause data loss or any other damage.</p>

      </td>
</tr>
</tbody>
</table>

<h3 id="exceptions">Exceptions</h3>

<table class="api-docs-table">
<tbody>
<tr>
<td>

        <p><a href="-malformed-u-t-f8-input-exception/index.html">MalformedUTF8InputException</a></p>

      </td>
<td>
        <div class="signature"><code><span class="keyword">class </span><span class="identifier">MalformedUTF8InputException</span>&nbsp;<span class="symbol">:</span>&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html"><span class="identifier">Exception</span></a></code></div>

      </td>
</tr>
</tbody>
</table>

<h3 id="functions">Functions</h3>

<table class="api-docs-table">
<tbody>
<tr>
<td>

        <p><a href="$unsafe-append$.html">$unsafeAppend$</a></p>

      </td>
<td>
        <div class="signature"><code><span class="keyword">fun </span><a href="../io.ktor.utils.io.core/-byte-read-packet/index.html"><span class="identifier">ByteReadPacket</span></a><span class="symbol">.</span><span class="identifier">$unsafeAppend$</span><span class="symbol">(</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="parameterName" id="io.ktor.utils.io.core.internal$$unsafeAppend$(io.ktor.utils.io.core.ByteReadPacket, io.ktor.utils.io.core.BytePacketBuilder)/builder">builder</span><span class="symbol">:</span>&nbsp;<a href="../io.ktor.utils.io.core/-byte-packet-builder/index.html"><span class="identifier">BytePacketBuilder</span></a><br /><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code></div>

      </td>
</tr>
<tr>
<td>

        <p><a href="after-head-write.html">afterHeadWrite</a></p>

      </td>
<td>
        <div class="signature"><code><span class="keyword">fun </span><a href="../io.ktor.utils.io.core/-output/index.html"><span class="identifier">Output</span></a><span class="symbol">.</span><s><span class="identifier">afterHeadWrite</span></s><span class="symbol">(</span><span class="parameterName" id="io.ktor.utils.io.core.internal$afterHeadWrite(io.ktor.utils.io.core.Output, io.ktor.utils.io.core.IoBuffer)/current">current</span><span class="symbol">:</span>&nbsp;<a href="../io.ktor.utils.io.core/-io-buffer/index.html"><span class="identifier">IoBuffer</span></a><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code></div>

        <div class="signature"><code><span class="keyword">fun </span><a href="../io.ktor.utils.io.core/-output/index.html"><span class="identifier">Output</span></a><span class="symbol">.</span><span class="identifier">afterHeadWrite</span><span class="symbol">(</span><span class="parameterName" id="io.ktor.utils.io.core.internal$afterHeadWrite(io.ktor.utils.io.core.Output, io.ktor.utils.io.core.internal.ChunkBuffer)/current">current</span><span class="symbol">:</span>&nbsp;<a href="-chunk-buffer/index.html"><span class="identifier">ChunkBuffer</span></a><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code></div>

      </td>
</tr>
<tr>
<td>

        <p><a href="complete-read-head.html">completeReadHead</a></p>

      </td>
<td>
        <div class="signature"><code><span class="keyword">fun </span><a href="../io.ktor.utils.io.core/-input/index.html"><span class="identifier">Input</span></a><span class="symbol">.</span><s><span class="identifier">completeReadHead</span></s><span class="symbol">(</span><span class="parameterName" id="io.ktor.utils.io.core.internal$completeReadHead(io.ktor.utils.io.core.Input, io.ktor.utils.io.core.IoBuffer)/current">current</span><span class="symbol">:</span>&nbsp;<a href="../io.ktor.utils.io.core/-io-buffer/index.html"><span class="identifier">IoBuffer</span></a><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code></div>

        <div class="signature"><code><span class="keyword">fun </span><a href="../io.ktor.utils.io.core/-input/index.html"><span class="identifier">Input</span></a><span class="symbol">.</span><span class="identifier">completeReadHead</span><span class="symbol">(</span><span class="parameterName" id="io.ktor.utils.io.core.internal$completeReadHead(io.ktor.utils.io.core.Input, io.ktor.utils.io.core.internal.ChunkBuffer)/current">current</span><span class="symbol">:</span>&nbsp;<a href="-chunk-buffer/index.html"><span class="identifier">ChunkBuffer</span></a><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code></div>

      </td>
</tr>
<tr>
<td>

        <p><a href="decode-u-t-f8.html">decodeUTF8</a></p>

      </td>
<td>
        <div class="signature"><code><span class="keyword">fun </span><a href="../io.ktor.utils.io.core/-io-buffer/index.html"><span class="identifier">IoBuffer</span></a><span class="symbol">.</span><s><span class="identifier">decodeUTF8</span></s><span class="symbol">(</span><span class="parameterName" id="io.ktor.utils.io.core.internal$decodeUTF8(io.ktor.utils.io.core.IoBuffer, kotlin.Function1((kotlin.Char, kotlin.Boolean)))/consumer">consumer</span><span class="symbol">:</span>&nbsp;<span class="symbol">(</span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-char/index.html"><span class="identifier">Char</span></a><span class="symbol">)</span>&nbsp;<span class="symbol">-&gt;</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html"><span class="identifier">Boolean</span></a><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html"><span class="identifier">Int</span></a></code></div>
        <div class="signature"><code><span class="keyword">fun </span><a href="../io.ktor.utils.io.core/-buffer/index.html"><span class="identifier">Buffer</span></a><span class="symbol">.</span><span class="identifier">decodeUTF8</span><span class="symbol">(</span><span class="parameterName" id="io.ktor.utils.io.core.internal$decodeUTF8(io.ktor.utils.io.core.Buffer, kotlin.Function1((kotlin.Char, kotlin.Boolean)))/consumer">consumer</span><span class="symbol">:</span>&nbsp;<span class="symbol">(</span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-char/index.html"><span class="identifier">Char</span></a><span class="symbol">)</span>&nbsp;<span class="symbol">-&gt;</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html"><span class="identifier">Boolean</span></a><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html"><span class="identifier">Int</span></a></code></div>

        <p>Decodes all the bytes to utf8 applying every character on <a href="decode-u-t-f8.html#io.ktor.utils.io.core.internal$decodeUTF8(io.ktor.utils.io.core.Buffer, kotlin.Function1((kotlin.Char, kotlin.Boolean)))/consumer">consumer</a> until or consumer return <code>false</code>.
If a consumer returned false then a character will be pushed back (including all surrogates will be pushed back as well)
and <a href="decode-u-t-f8.html">decodeUTF8</a> returns -1</p>

      </td>
</tr>
<tr>
<td>

        <p><a href="decode-u-t-f8-line-loop-suspend.html">decodeUTF8LineLoopSuspend</a></p>

      </td>
<td>
        <div class="signature"><code><span class="keyword">suspend</span> <span class="keyword">fun </span><span class="identifier">decodeUTF8LineLoopSuspend</span><span class="symbol">(</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="parameterName" id="io.ktor.utils.io.core.internal$decodeUTF8LineLoopSuspend(java.lang.Appendable, kotlin.Int, kotlin.SuspendFunction1((kotlin.Int, io.ktor.utils.io.core.AbstractInput)))/out">out</span><span class="symbol">:</span>&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Appendable.html"><span class="identifier">Appendable</span></a><span class="symbol">, </span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="parameterName" id="io.ktor.utils.io.core.internal$decodeUTF8LineLoopSuspend(java.lang.Appendable, kotlin.Int, kotlin.SuspendFunction1((kotlin.Int, io.ktor.utils.io.core.AbstractInput)))/limit">limit</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html"><span class="identifier">Int</span></a><span class="symbol">, </span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="parameterName" id="io.ktor.utils.io.core.internal$decodeUTF8LineLoopSuspend(java.lang.Appendable, kotlin.Int, kotlin.SuspendFunction1((kotlin.Int, io.ktor.utils.io.core.AbstractInput)))/nextChunk">nextChunk</span><span class="symbol">:</span>&nbsp;<span class="keyword">suspend </span><span class="symbol">(</span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html"><span class="identifier">Int</span></a><span class="symbol">)</span>&nbsp;<span class="symbol">-&gt;</span>&nbsp;<a href="../io.ktor.utils.io.core/-abstract-input/index.html"><span class="identifier">AbstractInput</span></a><span class="symbol">?</span><br /><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html"><span class="identifier">Boolean</span></a></code></div>

      </td>
</tr>
<tr>
<td>

        <p><a href="prepare-read-first-head.html">prepareReadFirstHead</a></p>

      </td>
<td>
        <div class="signature"><code><span class="keyword">fun </span><a href="../io.ktor.utils.io.core/-input/index.html"><span class="identifier">Input</span></a><span class="symbol">.</span><span class="identifier">prepareReadFirstHead</span><span class="symbol">(</span><span class="parameterName" id="io.ktor.utils.io.core.internal$prepareReadFirstHead(io.ktor.utils.io.core.Input, kotlin.Int)/minSize">minSize</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html"><span class="identifier">Int</span></a><span class="symbol">)</span><span class="symbol">: </span><a href="-chunk-buffer/index.html"><span class="identifier">ChunkBuffer</span></a><span class="symbol">?</span></code></div>

      </td>
</tr>
<tr>
<td>

        <p><a href="prepare-read-first-head-old.html">prepareReadFirstHeadOld</a></p>

      </td>
<td>
        <div class="signature"><code><span class="keyword">fun </span><a href="../io.ktor.utils.io.core/-input/index.html"><span class="identifier">Input</span></a><span class="symbol">.</span><s><span class="identifier">prepareReadFirstHeadOld</span></s><span class="symbol">(</span><span class="parameterName" id="io.ktor.utils.io.core.internal$prepareReadFirstHeadOld(io.ktor.utils.io.core.Input, kotlin.Int)/minSize">minSize</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html"><span class="identifier">Int</span></a><span class="symbol">)</span><span class="symbol">: </span><a href="../io.ktor.utils.io.core/-io-buffer/index.html"><span class="identifier">IoBuffer</span></a><span class="symbol">?</span></code></div>

      </td>
</tr>
<tr>
<td>

        <p><a href="prepare-read-next-head.html">prepareReadNextHead</a></p>

      </td>
<td>
        <div class="signature"><code><span class="keyword">fun </span><a href="../io.ktor.utils.io.core/-input/index.html"><span class="identifier">Input</span></a><span class="symbol">.</span><span class="identifier">prepareReadNextHead</span><span class="symbol">(</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="parameterName" id="io.ktor.utils.io.core.internal$prepareReadNextHead(io.ktor.utils.io.core.Input, io.ktor.utils.io.core.internal.ChunkBuffer)/current">current</span><span class="symbol">:</span>&nbsp;<a href="-chunk-buffer/index.html"><span class="identifier">ChunkBuffer</span></a><br /><span class="symbol">)</span><span class="symbol">: </span><a href="-chunk-buffer/index.html"><span class="identifier">ChunkBuffer</span></a><span class="symbol">?</span></code></div>

      </td>
</tr>
<tr>
<td>

        <p><a href="prepare-read-next-head-old.html">prepareReadNextHeadOld</a></p>

      </td>
<td>
        <div class="signature"><code><span class="keyword">fun </span><a href="../io.ktor.utils.io.core/-input/index.html"><span class="identifier">Input</span></a><span class="symbol">.</span><s><span class="identifier">prepareReadNextHeadOld</span></s><span class="symbol">(</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="parameterName" id="io.ktor.utils.io.core.internal$prepareReadNextHeadOld(io.ktor.utils.io.core.Input, io.ktor.utils.io.core.IoBuffer)/current">current</span><span class="symbol">:</span>&nbsp;<a href="../io.ktor.utils.io.core/-io-buffer/index.html"><span class="identifier">IoBuffer</span></a><br /><span class="symbol">)</span><span class="symbol">: </span><a href="../io.ktor.utils.io.core/-io-buffer/index.html"><span class="identifier">IoBuffer</span></a><span class="symbol">?</span></code></div>

      </td>
</tr>
<tr>
<td>

        <p><a href="prepare-write-head.html">prepareWriteHead</a></p>

      </td>
<td>
        <div class="signature"><code><span class="keyword">fun </span><a href="../io.ktor.utils.io.core/-output/index.html"><span class="identifier">Output</span></a><span class="symbol">.</span><s><span class="identifier">prepareWriteHead</span></s><span class="symbol">(</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="parameterName" id="io.ktor.utils.io.core.internal$prepareWriteHead(io.ktor.utils.io.core.Output, kotlin.Int, io.ktor.utils.io.core.IoBuffer)/capacity">capacity</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html"><span class="identifier">Int</span></a><span class="symbol">, </span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="parameterName" id="io.ktor.utils.io.core.internal$prepareWriteHead(io.ktor.utils.io.core.Output, kotlin.Int, io.ktor.utils.io.core.IoBuffer)/current">current</span><span class="symbol">:</span>&nbsp;<a href="../io.ktor.utils.io.core/-io-buffer/index.html"><span class="identifier">IoBuffer</span></a><span class="symbol">?</span><br /><span class="symbol">)</span><span class="symbol">: </span><a href="../io.ktor.utils.io.core/-io-buffer/index.html"><span class="identifier">IoBuffer</span></a></code></div>

        <div class="signature"><code><span class="keyword">fun </span><a href="../io.ktor.utils.io.core/-output/index.html"><span class="identifier">Output</span></a><span class="symbol">.</span><span class="identifier">prepareWriteHead</span><span class="symbol">(</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="parameterName" id="io.ktor.utils.io.core.internal$prepareWriteHead(io.ktor.utils.io.core.Output, kotlin.Int, io.ktor.utils.io.core.internal.ChunkBuffer)/capacity">capacity</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html"><span class="identifier">Int</span></a><span class="symbol">, </span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="parameterName" id="io.ktor.utils.io.core.internal$prepareWriteHead(io.ktor.utils.io.core.Output, kotlin.Int, io.ktor.utils.io.core.internal.ChunkBuffer)/current">current</span><span class="symbol">:</span>&nbsp;<a href="-chunk-buffer/index.html"><span class="identifier">ChunkBuffer</span></a><span class="symbol">?</span><br /><span class="symbol">)</span><span class="symbol">: </span><a href="-chunk-buffer/index.html"><span class="identifier">ChunkBuffer</span></a></code></div>

      </td>
</tr>
</tbody>
</table>

      </div>
    </main>
    <footer class="site-footer">
  <!-- empty -->
</footer>

  </body>
</html>


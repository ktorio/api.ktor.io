<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>DoubleReceive -</title>
  <meta name="description" content="Asynchronous framework for web applications">
  <link rel="stylesheet" href="/assets/main.css">
  <link rel="stylesheet" href="/assets/common.css">
  <link rel="canonical" href="https://api.ktor.io/1.3.0-rc2/io.ktor.features/-double-receive/">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="/assets/js/api.js"></script>
  <script src="/assets/common.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-47631155-3', 'auto');
    ga('send', 'pageview');
  </script>
</head>

  <body>
    <header class="site-header" role="banner">
  <div class="wrapper">
    <div class="site-header-title">
      <a class="site-title" href="/1.3.0-rc2/">Ktor 1.3.0-rc2</a>
    </div>
    <div id="version-placeholder"></div>
    <script src="/assets/versions.js"></script>
  </div>
</header>

    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <div class="api-docs-breadcrumbs"><a href="../index.html">io.ktor.features</a> / <a href="./index.html">DoubleReceive</a></div>

<h1 id="doublereceive">DoubleReceive</h1>

<div class="signature"><code><span class="keyword">class </span><span class="identifier">DoubleReceive</span></code></div>

<p>This feature provides ability to invoke <a href="../../io.ktor.request/receive.html">ApplicationCall.receive</a> several times.
Please note that not every type could be received twice. For example, even with this feature installed you can’t
receive a channel twice (unless <a href="-configuration/receive-entire-content.html">Configuration.receiveEntireContent</a> is enabled).
Types that always can be received twice or more: <code>ByteArray</code>, <code>String</code> and <code>Parameters</code>.
Also some of content transformation features (such as <a href="../-content-negotiation/index.html">ContentNegotiation</a>) could support it as well.
If not specified, a transformation result is not considered as reusable. So a transformation feature may
mark a result as reusable by proceeding with a <a href="../../io.ktor.request/-application-receive-request/index.html">ApplicationReceiveRequest</a> instance having
<a href="../../io.ktor.request/-application-receive-request/reusable-value.html">ApplicationReceiveRequest.reusableValue</a> <code>= true</code>.
So installing <a href="./index.html">DoubleReceive</a> with <a href="../-content-negotiation/index.html">ContentNegotiation</a> provides ability to receive a user type that will be
deserialized at first receive and then the same instance will be returned for every further receive invocation.
When the same receive type requested as the firstly received, the receive pipeline and content transformation are
not triggered (except when <a href="-configuration/receive-entire-content.html">Configuration.receiveEntireContent</a> = <code>true</code>).</p>

<h3 id="types">Types</h3>

<table class="api-docs-table">
<tbody>
<tr>
<td>

        <p><a href="-configuration/index.html">Configuration</a></p>

      </td>
<td>
        <div class="signature"><code><span class="keyword">class </span><span class="identifier">Configuration</span></code></div>

        <p><a href="./index.html">DoubleReceive</a> Feature configuration.</p>

      </td>
</tr>
<tr>
<td>

        <p><a href="-feature/index.html">Feature</a></p>

      </td>
<td>
        <div class="signature"><code><span class="keyword">companion</span> <span class="keyword">object </span><span class="identifier">Feature</span>&nbsp;<span class="symbol">:</span>&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../io.ktor.application/-application-feature/index.html"><span class="identifier">ApplicationFeature</span></a><span class="symbol">&lt;</span><a href="../../io.ktor.application/-application/index.html"><span class="identifier">Application</span></a><span class="symbol">,</span>&nbsp;<a href="-configuration/index.html"><span class="identifier">Configuration</span></a><span class="symbol">,</span>&nbsp;<a href="./index.html"><span class="identifier">DoubleReceive</span></a><span class="symbol">&gt;</span></code></div>

        <p><a href="./index.html">DoubleReceive</a> feature’s installation object.</p>

      </td>
</tr>
</tbody>
</table>

<h3 id="companion-object-properties">Companion Object Properties</h3>

<table class="api-docs-table">
<tbody>
<tr>
<td>

        <p><a href="key.html">key</a></p>

      </td>
<td>
        <div class="signature"><code><span class="keyword">val </span><span class="identifier">key</span><span class="symbol">: </span><a href="../../io.ktor.util/-attribute-key/index.html"><span class="identifier">AttributeKey</span></a><span class="symbol">&lt;</span><a href="./index.html"><span class="identifier">DoubleReceive</span></a><span class="symbol">&gt;</span></code></div>

        <p>Unique key that identifies a feature</p>

      </td>
</tr>
</tbody>
</table>

<h3 id="companion-object-functions">Companion Object Functions</h3>

<table class="api-docs-table">
<tbody>
<tr>
<td>

        <p><a href="install.html">install</a></p>

      </td>
<td>
        <div class="signature"><code><span class="keyword">fun </span><span class="identifier">install</span><span class="symbol">(</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="parameterName" id="io.ktor.features.DoubleReceive.Feature$install(io.ktor.application.Application, kotlin.Function1((io.ktor.features.DoubleReceive.Configuration, kotlin.Unit)))/pipeline">pipeline</span><span class="symbol">:</span>&nbsp;<a href="../../io.ktor.application/-application/index.html"><span class="identifier">Application</span></a><span class="symbol">, </span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="parameterName" id="io.ktor.features.DoubleReceive.Feature$install(io.ktor.application.Application, kotlin.Function1((io.ktor.features.DoubleReceive.Configuration, kotlin.Unit)))/configure">configure</span><span class="symbol">:</span>&nbsp;<a href="-configuration/index.html"><span class="identifier">Configuration</span></a><span class="symbol">.</span><span class="symbol">(</span><span class="symbol">)</span>&nbsp;<span class="symbol">-&gt;</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a><br /><span class="symbol">)</span><span class="symbol">: </span><a href="./index.html"><span class="identifier">DoubleReceive</span></a></code></div>

        <p>Feature installation script</p>

      </td>
</tr>
</tbody>
</table>

      </div>
    </main>
    <footer class="site-footer">
  <!-- empty -->
</footer>

  </body>
</html>

